name: ODGen
description: Run ODGen on your project

inputs:
  root:
    description: The root of the project to analyze.
    required: false
    default: .
  timeout:
    description: The maximum duration of the analysis in seconds.
    required: false
    default: 300 # seconds, 5 minutes
  vulnerability_type:
    description: The type of vulnerability to scan for.
    required: true

runs:
  using: docker
  image: Dockerfile
  entrypoint: /app/run.sh
  args:
    # The project to scan
    - ${{inputs.root}}

    # Scan for the specified vulnerability (does not support scanning for all
    # at the same time)
    - ${{inputs.vulnerability_type}}

    # Set the timeout as configured
    - ${{inputs.timeout}}
